<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Pro Notes</title>

<style>
/* ================= VARI√ÅVEIS ================= */
:root{
--bg-main:#f2f2f7;
--bg-section:#ffffff;
--text:#1c1c1e;
--muted:#8e8e93;
--accent:#007aff;
--orange:#ff9500;
--danger:#ff3b30;
--success:#34c759;
--neutral:#8e8e93;
--grey:#f2f2f7;
--border:#d1d1d6;
--shadow:0 8px 30px rgba(0,0,0,.2);
}

[data-theme="dark"]{
--bg-main:#121212;
--bg-section:#272729;
--text:#ededed;
--muted:#98989d;
--grey:#38383a;
--border:#424244;
--orange:#ff9f0a;
}

/* ================= BASE ================= */
*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto}
body{
margin:0;
background:var(--bg-main);
color:var(--text);
height:100vh;
overflow:hidden;
}

/* ================= NOTAS ================= */
.section-notes{
height:100vh;
padding:16px;
display:flex;
flex-direction:column;
background:var(--bg-section);
}

#note-title{
border:none;
font-size:1.3rem;
font-weight:700;
background:none;
color:var(--text);
outline:none;
}

textarea{
flex:1;
border:none;
outline:none;
resize:none;
font-size:1.05rem;
margin-top:12px;
background:none;
color:var(--text);
padding-bottom:100px;
}

/* ================= BARRA INFERIOR ================= */
.floating-actions{
position:fixed;
bottom:0;
left:0;
right:0;
background:var(--bg-section);
border-top:1px solid var(--border);
display:flex;
justify-content:space-around;
padding:10px 0;
z-index:10;
}

.btn-mini{
width:48px;
height:48px;
border-radius:50%;
border:none;
font-size:1.2rem;
color:white;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
touch-action:manipulation;
}

/* ================= MODAL CALCULADORA ================= */
.calc-modal{
position:fixed;
inset:0;
background:rgba(0,0,0,.4);
display:none;
align-items:flex-end;
z-index:100;
}

.calc-sheet{
background:var(--bg-section);
width:100%;
border-radius:20px 20px 0 0;
padding:16px;
box-shadow:var(--shadow);
}

#calc-display{
width:100%;
height:60px;
font-size:2rem;
text-align:right;
border:none;
background:none;
color:var(--text);
margin-bottom:12px;
}

.grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:10px;
}

.grid button{
height:64px;
border-radius:50%;
border:none;
background:var(--grey);
font-size:1.25rem;
cursor:pointer;
touch-action:manipulation;
}

.btn-op{color:var(--accent)}
.btn-orange{background:var(--orange);color:white}
.btn-blue{
grid-column:span 2;
border-radius:30px;
background:var(--accent);
color:white;
}

.send-btn{
margin-top:12px;
width:100%;
padding:14px;
border:none;
border-radius:14px;
background:var(--accent);
color:white;
font-weight:600;
font-size:1rem;
}

/* ================= DESKTOP ================= */
@media(min-width:769px){
.calc-modal{display:none!important}
}
</style>
</head>

<body data-theme="light">

<!-- ================= NOTAS ================= -->
<div class="section-notes">
<input id="note-title" placeholder="T√≠tulo da nota">
<textarea id="notes" placeholder="Come√ßa a escrever..."></textarea>
</div>

<!-- ================= BARRA ================= -->
<div class="floating-actions">
<button class="btn-mini" style="background:var(--neutral)" onclick="copy()">üìã</button>
<button class="btn-mini" style="background:var(--orange)" onclick="clearText()">üßπ</button>
<button class="btn-mini" style="background:var(--danger)" onclick="deleteNote()">üóë</button>
<button class="btn-mini" style="background:var(--success)" onclick="save()">‚úì</button>
<button class="btn-mini" style="background:var(--accent)" onclick="openCalc()">üßÆ</button>
</div>

<!-- ================= CALCULADORA ================= -->
<div class="calc-modal" id="calcModal" onclick="closeCalc(event)">
<div class="calc-sheet">
<input id="calc-display" readonly>

<div class="grid" id="calc-grid"></div>

<button class="send-btn" onclick="sendCalc()">Enviar para Notas</button>
</div>
</div>

<script>
const display=document.getElementById("calc-display");
const notes=document.getElementById("notes");
const modal=document.getElementById("calcModal");

const buttons=[
"C","%","√∑","‚å´",
"7","8","9","√ó",
"4","5","6","-",
"1","2","3","+",
"0",".","="
];

function renderCalc(){
document.getElementById("calc-grid").innerHTML=
buttons.map(b=>{
let cls="";
if("+-√ó=".includes(b))cls="btn-orange";
if("C%‚å´√∑".includes(b))cls="btn-op";
if(b==="0")cls="btn-blue";
return `<button class="${cls}" onpointerdown="press('${b}')">${b}</button>`;
}).join("");
}

function press(v){
if(v==="C"){display.value="";return;}
if(v==="‚å´"){display.value=display.value.slice(0,-1);return;}
if(v==="="){
try{display.value=eval(display.value.replace("√ó","*").replace("√∑","/"))}
catch{display.value="Erro"}
return;
}
display.value+=v;
}

function openCalc(){modal.style.display="flex"}
function closeCalc(e){if(e.target===modal)modal.style.display="none"}

function sendCalc(){
if(display.value && display.value!=="Erro"){
notes.value+=`‚Ä¢ ${display.value}\n`;
}
modal.style.display="none";
}

function copy(){navigator.clipboard.writeText(notes.value)}
function clearText(){notes.value=""}
function save(){alert("Guardado")}
function deleteNote(){notes.value="";document.getElementById("note-title").value=""}

renderCalc();
</script>

</body>
</html>
